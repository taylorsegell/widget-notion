"use strict";function _get(){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=_superPropBase(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(r){var o=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(r);if(o){var n=_getPrototypeOf(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_toPropertyKey(r.key),r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);var r=n.call(e,t||"default");if("object"!==_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}!function(){var n=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.segment=e.segment,this.trackMethods=[]}return _createClass(t,[{key:"registerListener",value:function(e){e instanceof Function&&this.trackMethods.push(e)}},{key:"trackEvent",value:function(t){this.trackMethods.forEach(function(e){e(t)})}}]),t}();var r=new function(){var n=[],o="_pubsub_uuid_",p="*",f={},i=-1;function h(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};setTimeout(function(){var e=new Date;500<=n.length&&n.shift(),t.time=e,n.push(t)},0)}function u(e,t,n,r){try{e.callback.call(e.context,n,t,r)}catch(e){var o="PubSub Exception: ".concat(e.message,"  Stack: ").concat(e.stack);console.error?console.error(o):console.log(o)}}function s(e,t,n,r){e.callback.call(e.context,n,t,r)}function d(t,e,n,r,o){var i=f[e],a=r?s:u;f[e]&&Object.keys(i).forEach(function(e){i[e]&&a(i[e],t,n,o)})}function y(e){var t,n=String(e);return!!f[n]&&(t=f[n],!!Object.keys(t).length)}function r(e,t,n,r){var o,i,a,u,s=r.immediateExceptions,l=r.deliveryCallback,c=r.metadata,f=(o=e,i=t,a=!!s,u=void 0===c?{}:c,function(){var e=String(o),t=e.lastIndexOf(".");for(d(o,p,i,a,u),d(o,o,i,a,u);-1!==t;)t=(e=e.substr(0,t)).lastIndexOf("."),d(o,e,i,a,u)});function h(e){return l&&l({data:t}),e}return function(e){for(var t=String(e),n=y(t)||y(p),r=t.lastIndexOf(".");!n&&-1!==r;)r=(t=t.substr(0,r)).lastIndexOf("."),n=y(t)||y(p);return n}(e)?!0===n?(f(),h(!0)):(setTimeout(function(){f(),h(!0)},0),!0):h(!1)}var a={debug:function(){return{topics:f,actionsLog:n}},publish:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return h({type:"publish",topic:e}),r(e,t,!1,n)},publishSync:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return h({type:"publishSync",topic:e}),r(e,t,!0,n)},subscribe:function(e,t,n){if(h({type:"subscribe",topic:e}),"function"!=typeof t)return!1;f[e]=f[e]||{};var r=o+String(++i);return f[e][r]={callback:t,context:n||t},r},once:function(e,r,o){h({type:"once",topic:e});var i=a.subscribe(e,function(){a.unsubscribe(i);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.apply(o,t)});return a},subscribeAll:function(e,t){return h({type:"subscribeAll",topic:""}),a.subscribe(p,e,t)},clearAllSubscriptions:function(){h({type:"clearAllSubscriptions",topic:""}),f={}},clearTopicSubscriptions:function(t){return h({type:"clearTopicSubscriptions",topic:t}),Object.keys(f).forEach(function(e){f[e]&&0===e.indexOf(t)&&delete f[e]}),!1},clearContextSubscriptions:function(e){return h({type:"clearContextSubscriptions",topic:e.toString()}),a.unsubscribe(e)},unsubscribe:function(e,t,n){var i="string"==typeof e&&0<=e.indexOf(o),a="string"==typeof e&&!!f[e],u=!1,s=e,l=t,c=n;return!l&&c&&(l=c,c=null),s||(s=l,l=void 0),s?(h({type:"unsubscribe",topic:s.toString()}),!a||l||c?(Object.keys(f).forEach(function(e){var r=e,o=f[e];if(i&&o[s])return delete o[s],u=s,!0;Object.keys(o).forEach(function(e){var t=e,n=o[e];a&&s===r?c&&n.context===c&&n.callback===l?(u=!0,delete f[r][t]):c||n.context!==l&&n.callback!==l||(u=!0,delete f[r][t]):l?s===n.callback&&l===n.context&&(u=!0,delete f[r][t]):s!==n.callback&&s!==n.context||(u=!0,delete f[r][t])})}),u):(delete f[s],!0)):(console.log("Invalid Use of pubsub: No parameters passed"),!1)}};return a},o=function(){function e(){_classCallCheck(this,e),this.handlers={}}return _createClass(e,[{key:"registerDataHandler",value:function(e,t){return!(!e||!t)&&(this.handlers[e]=t,!0)}},{key:"getData",value:function(e){if(this.handlers[e]){var t=this.handlers[e].call();return t.then?t:Promise.resolve(t)}return Promise.reject(new Error("Unsupported data type: ".concat(e," was specified")))}}]),e}();var e,t,i=(function(e,t){window,e.exports=function(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}return o.m=n,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==_typeof(t)&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=47)}([function(e,t,n){var r=n(49),o=n(74)(function(e,t,n){r(e,t,n)});e.exports=o},function(e,t){e.exports=function(e){var t=_typeof(e);return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var l=n(28),c=n(6);e.exports=function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var u=t[i],s=r?r(n[u],e[u],u,n,e):void 0;void 0===s&&(s=e[u]),o?c(n,u,s):l(n,u,s)}return n}},function(e,t,n){var r,o;r=[t,n(82),n(11)],void 0===(o=function(e,t,o){Object.defineProperty(e,"__esModule",{value:!0});var n,i=(n=t)&&n.__esModule?n:{default:n},a=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),r=function(){function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n={persistence:"memory",logInBand:!0,enabled:!0};this._options=e||n,this._statStore=t instanceof i.default?t:new i.default((0,o.getOption)("persistence",e,n)),this._enabled=(0,o.getOption)("enabled",e,n),this._logInBandModulus=1e4}return a(r,[{key:"enabled",get:function(){return this._enabled},set:function(e){this._enabled=e}}]),a(r,[{key:"apply",value:function(e){if(this.enabled){var t=this.filter(e);return t?this._statStore.insertCount=this._statStore.insertCount+1:this._statStore.dropCount=this._statStore.dropCount+1,t}return this._statStore.insertCount=this._statStore.insertCount+1,!0}},{key:"filter",value:function(e){return!0}},{key:"getStatsJSON",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t={insertCount:this._statStore.insertCount,dropCount:this._statStore.dropCount,messageCount:this._statStore.messageCount,sinceTime:this._statStore.sinceTime};return e&&this._statStore.reset(),t}},{key:"shouldSendInBandLogStats",value:function(){return this._statsStore.messageCount%this.logInBandModulus==0}}]),r}();e.default=r}.apply(t,r))||(e.exports=o)},function(e,t,n){var r=n(5);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(55);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==("undefined"==typeof window?"undefined":_typeof(window))&&(n=window)}e.exports=n},function(e,t){e.exports=function(t,n){return function(e){return t(n(e))}}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var r;void 0===(r=function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={DEBUG:"debug",INFO:"info",WARN:"warn",ERROR:"error",FATAL:"fatal"}}.apply(t,[t]))||(e.exports=r)},function(e,t,n){var r;void 0===(r=function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getOption=function(e,t,n){var r=n&&n.hasOwnProperty(e)?n[e]:void 0;return t&&t.hasOwnProperty(e)?t[e]:r}}.apply(t,[t]))||(e.exports=r)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultRetryStrategy=void 0;var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function o(e){return e&&e.__esModule?e:{default:e}}o(n(13)),o(n(40)),t.DefaultRetryStrategy=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._maxRetryCount=e.getMaxRetries(),this._requestTimeout=e.getRequestTimeout()}return r(t,[{key:"setMaxRetryCount",value:function(e){if(e<0||null===e||"number"!=typeof e)throw new Error("Use valid integer for max retry count");this._maxRetryCount=e}},{key:"getMaxRetryCount",value:function(){return this._maxRetryCount}},{key:"setRequestTimeout",value:function(e){if(e<0||null===e||"number"!=typeof e)throw new Error("Use valid integer for max timeout");this._requestTimeout=e}},{key:"getRequestTimeout",value:function(){return this._requestTimeout}},{key:"maxRetryCountExceeded",value:function(e){return!!e&&e.getRetryCount()>=this.getMaxRetryCount()}},{key:"onSendFailed",value:function(e,t,n){t.setDispatchInProgress(!1),e._getItemStore().updateNetworkRequest(t)}}]),t}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},o=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),a=n(38),i=function(){function i(e,t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.url=e,this.method=t,this.data=n,this.headers=r,this.params=o,this._retryCount=0,this._dispatchInProgress=!1,this._id,this._createdAt=Date.now()}return o(i,[{key:"setId",value:function(e){if("string"!=typeof e||""===e||null===e)throw new Error("Must use valid ID format");this._id=e}},{key:"getId",value:function(){return this._id}},{key:"setUrl",value:function(e){if(null===e||""===e||"string"!=typeof e)throw new Error("Must have a valid url");this.url=e}},{key:"getUrl",value:function(e){if(!e)return this.url;var t=(0,a.paramsToQueryString)(this.params);return t&&0<t.length?this.url+"?"+t:this.url}},{key:"setMethod",value:function(e){if(null===e||""===e||"string"!=typeof e)throw new Error("Must have a valid method");this.method=e.toLowerCase()}},{key:"getMethod",value:function(){return this.method}},{key:"setPayload",value:function(e){if(null===e)throw new Error("Must have a valid payload");this.data=e}},{key:"getPayload",value:function(){return this.data}},{key:"setHeaders",value:function(e){if(null===e||"object"!==(void 0===e?"undefined":r(e))||!0===Array.isArray(e))throw new Error("Must include valid headers");this.headers=e}},{key:"getHeaders",value:function(){return this.headers}},{key:"setQueryParams",value:function(e){if(null===e)throw new Error("Must set valid query parameters");this.params=e}},{key:"getQueryParams",value:function(){return this.params}},{key:"setRetryCount",value:function(e){if(null===e||e<0)throw new Error("Cannot set an invalid retry count");this._retryCount=e}},{key:"getRetryCount",value:function(){return this._retryCount}},{key:"setDispatchInProgress",value:function(e){this._dispatchInProgress=e}},{key:"getDispatchInProgress",value:function(){return this._dispatchInProgress}}]),i}();t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._id=void 0,this._timestamp=t||(new Date).getTime(),this._dataBlob=e||""}return r(n,[{key:"setDataBlob",value:function(e){this._dataBlob=e}},{key:"getDataBlob",value:function(){return this._dataBlob}},{key:"setId",value:function(e){if("string"!=typeof e||""===e||null===e)throw new Error("Must use valid ID format");this._id=e}},{key:"getId",value:function(){return this._id}},{key:"setTimestamp",value:function(e){if(null===e||"number"!=typeof e)throw new Error("Must use valid timestamp");this._timestamp=e}},{key:"getTimestamp",value:function(){return this._timestamp}}]),n}();t.default=o},function(e,t,n){var r=n(50),o=n(51),i=n(52),a=n(53),u=n(54);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,e.exports=s},function(e,t,n){var r=n(6),o=n(5);e.exports=function(e,t,n){(void 0===n||o(e[t],n))&&(void 0!==n||t in e)||r(e,t,n)}},function(e,a,u){(function(e){var t=u(18),n=a&&!a.nodeType&&a,r=n&&"object"==_typeof(e)&&e&&!e.nodeType&&e,o=r&&r.exports===n?t.Buffer:void 0,i=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=i?i(n):new e.constructor(n);return e.copy(r),r}}).call(this,u(60)(e))},function(e,t,n){var r=n(61),o="object"==("undefined"==typeof self?"undefined":_typeof(self))&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){var r=n(65),o=n(21),i=n(66);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},function(e,t,n){var r=n(8)(Object.getPrototypeOf,Object);e.exports=r},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var r=n(24),o=n(1);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==_typeof(e)}},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},function(e,t,n){var o=n(6),i=n(5),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var r=e[t];a.call(e,t)&&i(r,n)&&(void 0!==n||t in e)||o(e,t,n)}},function(e,t,n){var r,o;r=[t,n(10),n(30),n(31)],void 0===(o=function(e,t,n,r){Object.defineProperty(e,"__esModule",{value:!0});var a=i(t),u=i(n),o=i(r);function i(e){return e&&e.__esModule?e:{default:e}}var s=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),l=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._configuration=e||{},this._providerProps=u.default.getProviderProps(e),this._setupLogger(),this._filter=new o.default(this._providerProps.filters)}return s(t,[{key:"_setupLogger",value:function(){this._logger={log:function(e,t,n){console.log&&(null!==n&&c(t)?console.log(e,t,n):c(t)?console.log(e,t):console.log(e))},debug:function(e,t,n){console.debug&&(null!==n&&c(t)?console.log(e,t,n):c(t)?console.log(e,t):console.log(e))},warn:function(e,t,n){console.warn&&(null!==n&&c(t)?console.warn(e,t,n):c(t)?console.warn(e,t):console.warn(e))},error:function(e,t,n){console.error&&(null!==n&&c(t)?console.error(e,t,n):c(t)?console.error(e,t):console.error(e))}}}},{key:"log",value:function(e,t,n,r,o){this._log(t,e,n,r,o)}},{key:"_log",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=arguments[2],r=arguments[3],o=arguments[4];if("undefined"==typeof window||window.console){var i=u.default.mergeProps(n,r,this._providerProps,e);if(this._filter.apply({message:t,level:e}))switch(e){case a.default.INFO:this._logger.log(t,i,o);break;case a.default.DEBUG:this._logger.debug(t,i,o);break;case a.default.WARN:this._logger.warn(t,i,o);break;case a.default.ERROR:case a.default.FATAL:this._logger.error(t,i,o)}}}}]),t}();function c(e){return e&&void 0!==e&&0<Object.keys(e).length}e.default=l}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[t,n(0)],void 0===(o=function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var n,o=(n=t)&&n.__esModule?n:{default:n},r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function h(e,t){var n=443==t&&("https"===e||"https:"===e)||80==t&&("http"===e||"http:"===e)||null===t||""===t?"":""+t,r=parseInt(n,10);return(isNaN(r)||t<=0||65535<=t||Math.floor(r)!=t)&&(n=""),n}var i=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}return r(t,null,[{key:"mergeProps",value:function(e,t,n,r){return e||(e={}),n||(n={}),t||(t={}),(0,o.default)({},e,n,t)}},{key:"getProviderProps",value:function(e){var t={},n=e.addProps;return n&&(t=n),t}},{key:"getRTSettings",value:function(e){var t=null,n=e.reliableTransmission;return n&&(t=n),t}},{key:"parseURL",value:function(e){var t=null;if(window&&window.URL&&"function"==typeof window.URL)t=new window.URL(e);else{var n=e.split("#"),r=n[0].split("?"),o=1<r.length?r[1]:"";if(!(3<=(n=(n=r[0]).split("/")).length))throw"LoggingProviderUtils.parseURL Error: url "+e+" appears malformed";var i=n[2],a=i.split(":"),u=a[0],s=n[0],l=h(s,1<a.length?a[1]:"");""===l&&(i=u);var c=n.slice(3).join("/");t={host:i,hostname:u,protocol:s,port:l,search:o?"?"+o:"",pathname:"/"+c}}var f={host:t.hostname,protocol:t.protocol.replace(/[^a-zA-Z]/g,""),pathname:t.pathname};return""!==t.port&&(f.port=t.port),f}},{key:"formatURL",value:function(e){var t=h(e.protocol,e.port),n=e.pathname,r="";return t&&(r=":"+t),n&&"string"==typeof n&&0<n.length&&"/"!==n[0]&&(n="/"+n),e.protocol+"://"+e.hostname+r+n}},{key:"getEndpointUrl",value:function(e){return t.formatURL({protocol:e.protocol||"http",hostname:e.host||"",port:e.port,pathname:e.basepath||""})}}]),t}();e.default=i}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[t,n(3),n(84),n(85),n(86),n(87)],void 0===(o=function(e,t,n,r,o,i){Object.defineProperty(e,"__esModule",{value:!0});var a=u(t),s=u(n),l=u(r),c=u(o),f=u(i);function u(e){return e&&e.__esModule?e:{default:e}}var h="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},p=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),d=function(e){function u(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=_typeof(t)&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));if(e&&e.filters&&Array.isArray(e.filters)&&!t){t=[];for(var r=0;r<e.filters.length;r++)if(e.filters[r].hasOwnProperty("type")){var o=e.filters[r];if(e&&e.stats&&"object"===h(e.stats))for(var i in e.stats)o[i]=e.stats[i];var a=u.createFilter(e.filters[r].type,o,n._statsStore);t.push(a)}}return n._filters=t||[],n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+_typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,a.default),p(u,[{key:"filters",get:function(){return this._filters},set:function(e){this._filters=e}}],[{key:"createFilter",value:function(e,t,n){var r=null;switch(e){case"levelFilter":r=new f.default(t,n);break;case"regexFilter":r=new c.default(t,n);break;case"equalProbabilitySampler":r=new s.default(t,n);break;case"systematicSampler":r=new l.default(t,n);break;default:r=new a.default(t,n)}return r}}]),p(u,[{key:"shouldSendInBandLogStats",value:function(){return 0<this._filters.length&&this._statsStore.messageCount%this.logInBandModulus==0}},{key:"appendFilter",value:function(e){this.filters.push(e)}},{key:"filter",value:function(e){for(var t=this._filters.length,n=!1,r=0;r<t;r++)n=n||this._filters[r].filter(e);return!(0<r)||n}}]),u}();e.default=d}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[t,n(0),n(30),n(33),n(88),n(34),n(116),n(31)],void 0===(o=function(e,t,n,r,o,i,a,u){Object.defineProperty(e,"__esModule",{value:!0});var s=y(t),l=y(n),c=y(r),f=y(o),h=y(i),p=y(a),d=y(u);function y(e){return e&&e.__esModule?e:{default:e}}var v="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},g=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),_=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);try{this._configuration=e||{},this._providerProps=l.default.getProviderProps(e),this._RTSettings=l.default.getRTSettings(e),this._providerName=e.providerName,this._component=e.component,this._appId=e.appId,this._env=e.env,this._RTConfig=new h.default.RTConfiguration,this._endpoint=l.default.getEndpointUrl(this._configuration.endpoint),"1"==this._extractEndpointVersion(this._endpoint)&&this._RTConfig.setHeaders((0,s.default)({},this._RTConfig.getHeaders(),{"-X-APPID":this._appId})),this._initReliableTransmission(),this._filter=new d.default(this._configuration.filtering),this._logInBand=!1}catch(e){console.error("Error in "+this._providerName+": ",e)}}return g(t,[{key:"_extractEndpointVersion",value:function(e){var t="1";if("string"==typeof e){var n=e.match(/\/[vV]([0-9]+(\.[0-9]+)?)\//);n&&1<n.length&&(t=n[1])}return t}},{key:"_initReliableTransmission",value:function(){null!==this._RTSettings&&(void 0!==this._RTSettings.overrideLimitEnforcement&&(this._RTConfig.OVERRIDE_LIMIT_ENFORCED=this._RTSettings.overrideLimitEnforcement),this._RTSettings.maxItems&&this._RTConfig.setMaxItemQueueSize(this._RTSettings.maxItems),this._RTSettings.interval&&this._RTConfig.setInterval(this._RTSettings.interval),this._RTSettings.maxRetries&&this._RTConfig.setMaxRetries(this._RTSettings.maxRetries),this._RTSettings.maxBytesQuota&&this._RTConfig.setMaxBytesQuota(this._RTSettings.maxBytesQuota),this._RTSettings.requestTimeout&&this._RTConfig.setRequestTimeout(this._RTSettings.requestTimeout),this._RTSettings.retryStrategy&&this._RTConfig.setRetryStrategy(this._RTSettings.retryStrategy),this._RTSettings.purgeStrategy&&this._RTConfig.setPurgeStrategy(this._RTSettings.purgeStrategy)),this._RTConfig.setHeaders((0,s.default)({},this._RTConfig.getHeaders(),this._configuration.endpoint.headers)||{}),this._RTConfig.setQueryParams(this._configuration.endpoint.query||{}),this._RTConfig.setItemStoreIdentifier(this._providerName+"Logging"),this._RTConfig.setMethod("post"),this._RTConfig.setUrl(this._endpoint),this._itemQueue=new h.default.ItemQueue(this._RTConfig);var e="1"===this._extractEndpointVersion(this._endpoint);this._itemQueue.setTransformer(new p.default(e))}},{key:"_buildLogMessage",value:function(e,t,n,r,o,i){var a=null;switch(this._extractEndpointVersion(this._endpoint)){case"2":a=new f.default(e,t,n,r,o,i);break;case"1":default:a=new c.default(e,t,n,r,o,i)}return a}},{key:"log",value:function(e,t,n,r,o,i){null===e&&(e="");var a=l.default.mergeProps(n,r,this._providerProps,t),u=this._buildLogMessage(e,t,o,a,{component:this._component,appId:this._appId,env:this._env},i);if(this._filter.apply(u)&&this._itemQueue.insertObject(u),this.logInBand&&this._filter.shouldSendInBandLogStats()){var s=new c.default("filter stats","info",null,this._filter.getStatsJSON(),{component:this._component,appId:this._appId,env:this._env},i);this._itemQueue.insertObject(s)}}},{key:"setEndpoint",value:function(e){var t=this._configuration.endpoint;if("object"===(void 0===e?"undefined":v(e)))for(var n in e)t[n]&&(t[n]=e[n]);else if("string"==typeof e){var r=l.default.parseURL(e);for(var o in r&&r.pathname&&(r.basepath=r.pathname,delete r.pathname),r)t[o]&&(t[o]=r[o])}this._configuration.endpoint=t;var i=l.default.getEndpointUrl(this._configuration.endpoint);this._endpoint=i,this._itemQueue.setUrl(i);var a="1"===this._extractEndpointVersion(i);this._itemQueue.setTransformer(new p.default(a))}},{key:"notifyTransmitStatus",value:function(e){this._itemQueue._dispatcher.setCallback(e)}},{key:"filter",get:function(){return this._filter},set:function(e){this._filter=e}},{key:"logInBand",get:function(){return this._logInBand},set:function(e){this._logInBand=e}}],[{key:"defaultConfig",value:function(e){return function(){var e={type:"remote",env:"",endpoint:{host:"",basepath:"/"+(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"v1")+"/log/message",headers:{Authorization:""}}};return Object.freeze(e),e}(e)}}]),t}();e.default=_}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[t,n(0)],void 0===(o=function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=t)&&n.__esModule?n:{default:n},o=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=function(){function u(e,t,n,r,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var a=i||(new Date).getTime();this.component=o.component,this.appId=o.appId,this.timestamp=a,this.level=t,this.env=o.env,this.eventType=o&&o.eventType?o.eventType:"LOGGING",this.annotation={message:e||""},this._initLogMessage(n,r)}return o(u,[{key:"_initLogMessage",value:function(e,t){null!==e&&(this.annotation.exception=this._formatErrorObj(e)),null!==t&&(this.annotation=(0,r.default)({},t,this.annotation))}},{key:"_formatErrorObj",value:function(e){return JSON.parse(JSON.stringify(e,Object.getOwnPropertyNames(e)))}}]),u}();e.default=i}.apply(t,r))||(e.exports=o)},function(e,t,n){var r=g(n(35)),o=g(n(39)),i=g(n(12)),a=g(n(45)),u=g(n(44)),s=g(n(114)),l=g(n(40)),c=g(n(14)),f=g(n(36)),h=g(n(115)),p=g(n(46)),d=g(n(37)),y=g(n(13)),v=g(n(41));function g(e){return e&&e.__esModule?e:{default:e}}e.exports={BaseHTTPTransformer:r.default,DefaultPurgeStrategy:o.default,DefaultRetryStrategy:i.default,DefaultDispatcher:a.default,DefaultCollector:u.default,RTConfiguration:s.default,ItemQueue:l.default,Item:c.default,ItemQueueCallback:h.default,HTTPTransformResult:f.default,DispatchTimerTask:p.default,JSONPostBodyEncoder:d.default,NetworkRequest:y.default,PersistentLocalStorage:v.default}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=u(n(36)),i=u(n(37)),a=n(38);function u(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._queryParams={},this._contentType="application/json",this._headers={"Content-Type":this._contentType},this._JSONPostBodyEncoder=new i.default}return r(e,[{key:"setHeaders",value:function(e){this._headers=e}},{key:"getHeaders",value:function(){return this._headers}},{key:"setQueryParams",value:function(e){this._queryParams=e}},{key:"getQueryParams",value:function(){return this._queryParams}},{key:"setContentType",value:function(e){if(null===e)throw new Error("Cannot set MIME type to null");this._contentType=e}},{key:"getContentType",value:function(){return this._contentType}},{key:"formatPostBody",value:function(e){return this._JSONPostBodyEncoder.formatPostBody(e)}},{key:"transform",value:function(e,t,n){if(null===n)throw new Error("List of items cannot be null");var r;return this._headers=(0,a.assignCI)(this._headers,e),this._queryParams=(0,a.assignCI)(this._queryParams,t),r=this.formatPostBody(n),new o.default(this._headers,this._queryParams,r)}}]),e}();t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),r=function(){function r(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this._headers=e,this._queryParams=t,this._body=n}return o(r,[{key:"getHeaders",value:function(){return this._headers}},{key:"setHeaders",value:function(e){this._headers=e}},{key:"getQueryParams",value:function(){return this._queryParams}},{key:"setQueryParams",value:function(e){this._queryParams=e}},{key:"getBody",value:function(){return this._body}},{key:"setBody",value:function(e){this._body=e}}]),r}();t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"formatPostBody",value:function(e){return JSON.stringify(e)}}]),e}();t.default=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.assignCI=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!n||n.length<1)return e;var o={};for(var i in e)o[i.toLowerCase()]=i;for(var a=0;a<n.length;a++)for(var u in n[a]){var s=u,l=u.toLowerCase();o.hasOwnProperty(l)?s=o[l]:o[l]=u,e[s]=n[a][u]}return e},t.paramsToQueryString=function(n){return Object.keys(n).map(function(e){var t=null===n[e]?"":n[e];return encodeURIComponent(e)+"="+encodeURIComponent(t)}).join("&")}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();t.DefaultPurgeStrategy=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._maxStorageInBytes=e.getMaxBytesQuota()}return r(t,[{key:"setMaxStorageInBytes",value:function(e){if(e<0||null===e||"number"!=typeof e)throw new Error("Use valid integer for byte maximum of storage");this._maxStorageInBytes=e}},{key:"getMaxStorageInBytes",value:function(){return this._maxStorageInBytes}},{key:"onRetryCountExceeded",value:function(e,t){e._getItemStore().deleteNetworkRequest(t)}},{key:"onStorageLimitExceeded",value:function(e){e._getItemStore().deleteOldestItem()}}]),t}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),a=r(n(14)),u=r(n(89)),s=r(n(44)),l=r(n(45)),c=n(39),f=r(n(46)),h=r(n(13)),p=n(12),d=r(n(35)),y=r(n(113));function r(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function r(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=_typeof(t)&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));try{n._configuration=e,n._timeBetweenDispatch=n._configuration.getInterval(),n._itemStore=new u.default({storeName:n._configuration.getItemStoreIdentifier(),itemQueueSize:n._configuration.getMaxItemQueueSize(),itemQueueInterval:n._timeBetweenDispatch}),n._collector=t&&t.collector?t.collector:new s.default,n._transformer=t&&t.transformer?t.transformer:new d.default,n._purgeStrategy=t&&t.purgeStrategy?t.purgeStrategy:new c.DefaultPurgeStrategy(n._configuration),n._retryStrategy=t&&t.retryStrategy?t.retryStrategy:new p.DefaultRetryStrategy(n._configuration),n._dispatcher=t&&t.dispatcher?t.dispatcher:new l.default(n._retryStrategy),n._url=n._configuration.getUrl(),n._method=n._configuration.getMethod(),n._headers=n._configuration.getHeaders(),n._queryParams=n._configuration.getQueryParams(),n._timerTask=null,n._isTimerStarted=!1,n._timerTaskId=null,n._dispatcher.setCallback(n),n._purgeStrategy.setMaxStorageInBytes(n._configuration.getMaxBytesQuota()),n.start()}catch(e){console.error("Error initializing ItemQueue",e)}return n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+_typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,y.default),i(r,[{key:"insert",value:function(e){if(null===e)throw new Error("Item cannot be null");0!==this._configuration.getMaxItemQueueSize()&&(this._itemStore.insert(e),this.getCurrentStorageSize()>=this._purgeStrategy.getMaxStorageInBytes()&&this._purgeStrategy.onStorageLimitExceeded(this),this.drain(!1))}},{key:"insertObject",value:function(e){if(null===e)throw new Error("Cannot insert null");var t=new a.default(e);this.insert(t)}},{key:"start",value:function(){var e=this;!1===this._isTimerStarted?(this._isTimerStarted=!0,this._timerTask=new f.default(this),this._timerTaskId=setInterval(function(){e._timerTask.sendItemsInQueue()},this._timeBetweenDispatch)):console.log("Timer task has already been started")}},{key:"stop",value:function(){!0===this._isTimerStarted?(this._isTimerStarted=!1,clearInterval(this._timerTaskId)):console.log("Timer task has already been stopped")}},{key:"getCurrentStorageSize",value:function(){return this._itemStore.getCurrentStorageSize()}},{key:"buildNetworkRequest",value:function(e,t,n,r,o,i){var a=new h.default;try{var u=e.transform(o,r,i);a.setUrl(n),a.setMethod(t),a.setPayload(u.getBody()),a.setQueryParams(u.getQueryParams()),a.setHeaders(u.getHeaders())}catch(e){console.error("Error building network request",e)}return a}},{key:"drain",value:function(e){this.retryRequest();var t="boolean"!=typeof e||e,n=this._collector.collect(this._itemStore,this._configuration,t);if(0!==n.length){var r=[];n.forEach(function(e){r.push({object:e.getDataBlob(),timestamp:e.getTimestamp()})});var o=this.buildNetworkRequest(this._transformer,this._method,this._url,this._queryParams,this._headers,r);o.setDispatchInProgress(!0),this._itemStore.deleteItems(n),this._itemStore.insertNetworkRequest(o),this._dispatcher.dispatch(o)}}},{key:"retryRequest",value:function(){var r=this;this._itemStore.getNetworkRequestNotInProgress(5).forEach(function(e){var t=new h.default(e.url,e.method,e.data,e.headers,e.params);if(t.setRetryCount(e._retryCount),t.setId(e._id),r._retryStrategy&&r._retryStrategy.maxRetryCountExceeded(t))r._purgeStrategy.onRetryCountExceeded(r,t),r._itemQueueCallback&&"function"==typeof r._itemQueueCallback.onError&&r._itemQueueCallback.onError(r,t,new Error("Retry count exceeded"));else{var n=t.getRetryCount()+1;t.setRetryCount(n),r._dispatcher.dispatch(t)}})}},{key:"_purgeAll",value:function(){this._itemStore.purgeAll()}},{key:"setMethod",value:function(e){if(null===e||"string"!=typeof e)throw new Error("Please give a valid HTTP method");this._method=e}},{key:"getMethod",value:function(){return this._method}},{key:"setUrl",value:function(e){if(null===e||"string"!=typeof e)throw new Error("Please give a valid url");this._url=e}},{key:"getUrl",value:function(){return this._url}},{key:"setHeaders",value:function(e){if(null===e||"object"!==(void 0===e?"undefined":o(e))||!0===Array.isArray(e))throw new Error("Please give valid HTTP headers");this._headers=e}},{key:"getHeaders",value:function(){return this._headers}},{key:"setQueryParams",value:function(e){if(null===e||"object"!==(void 0===e?"undefined":o(e))||!0===Array.isArray(e))throw new Error("Please use valid query parameters");this._queryParams=e}},{key:"getQueryParams",value:function(){return this._queryParams}},{key:"setTransformer",value:function(e){this._transformer=e}},{key:"getTransformer",value:function(){return this._transformer}},{key:"_getDispatcher",value:function(){return this._dispatcher}},{key:"_getItemStore",value:function(){return this._itemStore}},{key:"getItemQueueCallback",value:function(){return this._itemQueueCallback}},{key:"setItemQueueCallback",value:function(e){this._itemQueueCallback=e}},{key:"dispatchInitiated",value:function(e,t){this._itemQueueCallback&&"function"==typeof this._itemQueueCallback.onPrepareNetworkRequest&&this._itemQueueCallback.onPrepareNetworkRequest(this,t),this.updateNetworkRequestDispatchStatus(t,!0)}},{key:"dispatchSuccess",value:function(e,t,n){this._itemStore.deleteNetworkRequest(t),this._itemQueueCallback&&"function"==typeof this._itemQueueCallback.onSuccess&&this._itemQueueCallback.onSuccess(this,t)}},{key:"dispatchFailed",value:function(e,t,n){this.updateNetworkRequestDispatchStatus(t,!1);try{this._retryStrategy.onSendFailed(this,t,n)}catch(n){this._itemQueueCallback&&"function"==typeof this._itemQueueCallback.onError&&this._itemQueueCallback.onError(this,t,n)}this._itemQueueCallback&&"function"==typeof this._itemQueueCallback.onError&&this._itemQueueCallback.onError(this,t,n)}},{key:"updateNetworkRequestDispatchStatus",value:function(e,t){e.setDispatchInProgress(t),this._itemStore.updateNetworkRequest(e)}}]),r}();t.default=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DELIMITER=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=u(n(90)),i=u(n(43));function u(e){return e&&e.__esModule?e:{default:e}}var s=t.DELIMITER="_",l=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._storageName=e,this._items={},this._supportedBrowserFeatures={},this._useLocalStorage=this.isLocalStorageSupported(),this._loadFromStorage()}return r(t,[{key:"_isStorageTypeSupported",value:function(t){if(!Object.prototype.hasOwnProperty.call(this._supportedBrowserFeatures,t))try{this._supportedBrowserFeatures[t]=window[t]instanceof Storage}catch(e){console.error("[reliable-transmission] "+t+" is inaccessible, falling back to memory usage",e),this._supportedBrowserFeatures[t]=!1}return this._supportedBrowserFeatures[t]}},{key:"isLocalStorageSupported",value:function(){return this._isStorageTypeSupported("localStorage")}},{key:"getItem",value:function(e){var t;if(t=this._items[e]?(0,o.default)(this._items[e]):null)return t}},{key:"insertItem",value:function(e){var t=""+this._storageName+s+(0,i.default)();if(this._items[t]=e,this._useLocalStorage)try{localStorage.setItem(t,JSON.stringify(e))}catch(e){console.warn("Failed to insert item into localStorage, possibly due to lack of available space",e)}return t}},{key:"updateItem",value:function(e,t){if(this._items[e]){if(this._items[e]=t,this._useLocalStorage)try{localStorage.setItem(e,JSON.stringify(t))}catch(e){console.warn("Failed to update item into localStorage",e)}return e}}},{key:"removeItem",value:function(e){if(this._items[e]){if(delete this._items[e],this._useLocalStorage)try{localStorage.removeItem(e)}catch(e){console.warn("Failed to remove item from localStorage",e)}return 1}}},{key:"getAllItems",value:function(){var i=this;return Object.keys(this._items).filter(function(e){return e.substring(0,(""+i._storageName+s).length)===""+i._storageName+s}).reduce(function(e,t){return a({},e,(n={},r=t,o=i._items[t],r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n));var n,r,o},{})}},{key:"_reset",value:function(){var t=this,e=Object.keys(this._items).filter(function(e){if(delete t._items[e],t._useLocalStorage)try{localStorage.removeItem(e)}catch(e){console.warn("Failed to remove item from localStorage",e)}});console.log("Deleted "+e.length+" items from persistent local storage. Storage is now reset.")}},{key:"_loadFromStorage",value:function(){var t=this;this._useLocalStorage&&(this._items=Object.keys(localStorage).filter(function(e){return e.substring(0,(""+t._storageName+s).length)===""+t._storageName+s}).reduce(function(e,t){var n=a({},e),r=null;try{r=JSON.parse(localStorage.getItem(t))}catch(e){console.error("Failed to load item from localStorage:",e)}return n[t]=r,n},{}))}}]),t}();t.default=l},function(e,t,n){var r=n(8)(Object.keys,Object);e.exports=r},function(e,t,n){var a=n(106),u=n(107);e.exports=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var i=0;i<16;++i)t[r+i]=o[i];return t||u(o)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"collect",value:function(e,t,n){return n||e.getOverallItemCount()>=t.getMaxItemQueueSize()?e.getAllItems(t.getMaxItemQueueSize()):[]}}]),e}();t.default=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=a(n(108));n(110);var i=a(n(12));function a(e){return e&&e.__esModule?e:{default:e}}var u=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._retryStrategy=e||new i.default,this._dispatcherCallback=null}return r(t,[{key:"setCallback",value:function(e){this._dispatcherCallback=e}},{key:"transmitNetworkRequest",value:function(e){return new Promise(function(t,n){(0,o.default)(e.getUrl(!0),{body:e.getPayload(),cache:"no-cache",credentials:"include",headers:e.getHeaders(),method:"POST",mode:"cors",redirect:"error",referrer:"no-referrer"}).then(function(e){if(!1===e.ok)throw new Error("HTTP Bad Response:"+JSON.stringify(e));t(e)}).catch(function(e){n(e)})})}},{key:"dispatch",value:function(t){var n=this;if(null!==t)return this._dispatcherCallback&&this._dispatcherCallback.dispatchInitiated(this,t),this.transmitNetworkRequest(t).then(function(e){n._dispatcherCallback.dispatchSuccess(n,t,e)}).catch(function(e){n._dispatcherCallback.dispatchFailed(n,t,e)})}}]),t}();t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._itemQueue=e}return r(t,[{key:"sendItemsInQueue",value:function(){return this._itemQueue.drain(!0)}}]),t}();t.default=o},function(e,t,n){var r,o;r=[e,n(48),n(10),n(29),n(32),n(33)],void 0===(o=function(e,t,n,r,o,i){var a=f(t),u=f(n),s=f(r),l=f(o),c=f(i);function f(e){return e&&e.__esModule?e:{default:e}}e.exports={LoggingUtility:a.default,LogLevel:u.default,LocalLoggingProvider:s.default,RemoteLoggingProvider:l.default,LogMessage:c.default}}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[t,n(0),n(81),n(29),n(32),n(10),n(117),n(118)],void 0===(o=function(e,t,n,r,o,i,a,u){Object.defineProperty(e,"__esModule",{value:!0});var s=d(t),l=d(n),c=d(r),f=d(o),h=d(i),p=d(a);function d(e){return e&&e.__esModule?e:{default:e}}var y="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),_={logging:{component:"IntuitLoggingSDK",appId:"IntuitLoggingSDK",schemaVersion:"1.3.1",levels:{atLevelAndHigher:"debug"},providers:{console:{type:"local"}}}},m={apiKey:"preprdakyres4d0xjqKabnvLMDUxxj519GYYpgx4",appId:"Intuit.app.utilities.uxfabricdefaultsdk",env:"e2e"},b={prod:"logging.api.intuit.com",perf:"logging-prf.api.intuit.com",e2e:"logging-e2e.api.intuit.com",qal:"logging-qal.api.intuit.com"},w=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._configuration=JSON.parse(JSON.stringify(_)),this._providers={},this._activeLevels=[],this._mergeProps={},this._isLoggingEnabled=!0,this._logDisabledPrintedAlready=!1,this._component=null,this._appId=null,this.setConfiguration(null)}return g(e,[{key:"setConfiguration",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:JSON.parse(JSON.stringify(m)),t=!1;if(e&&this._isValidConfiguration(e,null)){if(e&&e.apiKey&&e.appId&&e.env){var n="DefaultOILRemoteProvider_"+e.env+"_"+(0,u.hashCode)(e.appId);this._configuration.logging.providers[n]=JSON.parse(JSON.stringify(f.default.defaultConfig())),e.oilVersion&&(this._configuration.logging.providers[n]=JSON.parse(JSON.stringify(f.default.defaultConfig(e.oilVersion)))),this._configuration.logging.providers[n].env=e.env,this._configuration.logging.providers[n].endpoint.protocol="https",this._configuration.logging.providers[n].endpoint.host=b[e.env]||b.e2e,this._configuration.logging.providers[n].endpoint.headers.Authorization="Intuit_APIKey intuit_apikey="+e.apiKey+", intuit_apkey_version=1.0",this._configuration.logging.providers[n].reliableTransmission=v({},this._configuration.logging.providers[n].reliableTransmission||{},e.reliableTransmission||{}),this._configuration.logging.env=e.env,this._configuration.logging.appId=e.appId}else this._configuration=e;this._appId=this._configuration.logging.appId,this._component=this._configuration.logging.component,t=!0}return this._isLoggingEnabled=this._configuration.logging.enableLogging,this._buildMergeProps(),this.setActiveLevels(this._getLogLevels()),this._addProvidersFromConfiguration(this._configuration),t}},{key:"flush",value:function(){this._getRemoteProviders().forEach(function(e){e._itemQueue.drain(!0)})}},{key:"setIsLoggingEnabled",value:function(e){null===e&&"boolean"!=typeof e||(this._isLoggingEnabled=e)}},{key:"getRuntimeProps",value:function(){return this._mergeProps}},{key:"setRuntimeProps",value:function(e){this._mergeProps=(0,s.default)({},this._mergeProps,e)}},{key:"addHeaders",value:function(r){this._getRemoteProviders().forEach(function(e){var t=e._itemQueue.getHeaders(),n=(0,s.default)({},t,r);e._itemQueue.setHeaders(n)})}},{key:"addQueryParams",value:function(r){this._getRemoteProviders().forEach(function(e){var t=e._itemQueue.getQueryParams(),n=(0,s.default)({},t,r);e._itemQueue.setQueryParams(n)})}},{key:"addProviderHeaders",value:function(e,t){if(this._providers[e]&&"remote"===this._providers[e]._configuration.type){var n=this._providers[e]._itemQueue.getHeaders(),r=(0,s.default)({},n,t);this._providers[e]._itemQueue.setHeaders(r)}else console.error("Cannot set headers to this provider. Please make sure the provider exists and is a remote provider")}},{key:"setComponent",value:function(t){if(null===t||"string"!=typeof t)throw"Please use a valid value for component";this._component=t,this._getRemoteProviders().forEach(function(e){e._component=t})}},{key:"setActiveLevels",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=(0,l.default)(h.default);this._activeLevels=e.filter(function(e){return 0<=t.indexOf(e)})}},{key:"getProvider",value:function(e){return this._providers[e]}},{key:"addProvider",value:function(e,t){"object"===(void 0===t?"undefined":y(t))&&("local"===(this._providers[e]=t)._configuration.type?this._providers[e]=t:"remote"===t._configuration.type&&(this._providers[e]=t))}},{key:"removeProvider",value:function(e){this._providers[e]=null,delete this._providers[e]}},{key:"debug",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;this._logToProviders(h.default.DEBUG,e,t,n,r)}},{key:"info",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;this._logToProviders(h.default.INFO,e,t,n,r)}},{key:"log",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;this.info(e,t,n,r)}},{key:"warn",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;this._logToProviders(h.default.WARN,e,t,n,r)}},{key:"error",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null;this._logToProviders(h.default.ERROR,e,t,n,r,o)}},{key:"fatal",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null;this._logToProviders(h.default.FATAL,e,t,n,r,o)}},{key:"_isValidConfiguration",value:function(e,t){var n=this;return(0,p.default)(e,t,function(e){n._validationErrors=e})}},{key:"_warnConsoleOnce",value:function(e){this._logDisabledPrintedAlready||(console.warn(e),this._logDisabledPrintedAlready=!0)}},{key:"_logToProviders",value:function(e,t,n,r,o,i){if(!1===this._isLoggingEnabled)this._warnConsoleOnce("Logging is disabled. Messages will not be logged until loggingEnabled = true");else if(0===Object.keys(this._providers).length)this._warnConsoleOnce("There are no providers. Logging will be disabled until a new provider is added.");else if(this._isActiveLevel(e)){for(var a in this._providers)this._providers[a]&&this._providers[a].log(t,e,this._mergeProps,n,r,o);i&&i.flushLogsImmediately&&this.flush()}}},{key:"_isActiveLevel",value:function(e){return 0<=this._activeLevels.indexOf(e)}},{key:"_getLoggingConfiguration",value:function(){return this._configuration.logging||{}}},{key:"_addProvidersFromConfiguration",value:function(e){var t,n,r=e?e.logging:this._getLoggingConfiguration(),o=r.providers;if(o)for(var i in this._removeCurrentProvidersWithConfiguration(r),o){var a=o[i],u=o[i].type;"local"===u?this.addProvider(i,(n=a,new c.default(n))):"remote"===u&&this.addProvider(i,(t=(0,s.default)({},a,{providerName:i,appId:this._appId,component:this._component}),new f.default(t)))}}},{key:"_getRemoteProviders",value:function(){var e=[];for(var t in this._providers)"remote"===this._providers[t]._configuration.type&&e.push(this._providers[t]);return e}},{key:"_removeCurrentProvidersWithConfiguration",value:function(e){var t=(e||this._getLoggingConfiguration()).providers;for(var n in this._providers)t[n]||this.removeProvider(n)}},{key:"_getLogLevels",value:function(){var n=this._getLoggingConfiguration(),e=[h.default.DEBUG,h.default.INFO,h.default.WARN,h.default.ERROR,h.default.FATAL];if(n.levels&&n.levels.atLevelsOnly)return n.levels.atLevelsOnly;if(n.levels&&n.levels.atLevelAndHigher){var r=void 0;return e.forEach(function(e,t){e===n.levels.atLevelAndHigher&&(r=t)}),e.slice(r)}return e}},{key:"_buildMergeProps",value:function(){var e=this._getLoggingConfiguration();e.addProps&&(this._mergeProps=e.addProps)}}]),e}();e.default=w}.apply(t,r))||(e.exports=o)},function(e,t,n){var l=n(15),c=n(16),f=n(57),h=n(59),p=n(1),d=n(9),y=n(27);e.exports=function r(o,i,a,u,s){o!==i&&f(i,function(e,t){if(s||(s=new l),p(e))h(o,i,t,a,r,u,s);else{var n=u?u(y(o,t),e,t+"",o,i,s):void 0;void 0===n&&(n=e),c(o,t,n)}},d)}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(4),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}},function(e,t,n){var r=n(4);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(4);e.exports=function(e){return-1<r(this.__data__,e)}},function(e,t,n){var o=n(4);e.exports=function(e,t){var n=this.__data__,r=o(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}},function(e,t,n){var r=n(56),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(58)();e.exports=r},function(e,t){e.exports=function(s){return function(e,t,n){for(var r=-1,o=Object(e),i=n(e),a=i.length;a--;){var u=i[s?a:++r];if(!1===t(o[u],u,o))break}return e}}},function(e,t,n){var y=n(16),v=n(17),g=n(62),_=n(19),m=n(20),b=n(67),w=n(22),k=n(68),S=n(26),P=n(23),O=n(1),x=n(71),I=n(72),T=n(27),j=n(73);e.exports=function(e,t,n,r,o,i,a){var u=T(e,n),s=T(t,n),l=a.get(s);if(l)y(e,n,l);else{var c=i?i(u,s,n+"",e,t,a):void 0,f=void 0===c;if(f){var h=w(s),p=!h&&S(s),d=!h&&!p&&I(s);c=s,h||p||d?c=w(u)?u:k(u)?_(u):p?v(s,!(f=!1)):d?g(s,!(f=!1)):[]:x(s)||b(s)?b(c=u)?c=j(u):O(u)&&!P(u)||(c=m(s)):f=!1}f&&(a.set(s,c),o(c,s,r,i,a),a.delete(s)),y(e,n,c)}}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(n,e,t){(function(e){var t="object"==_typeof(e)&&e&&e.Object===Object&&e;n.exports=t}).call(this,t(7))},function(e,t,n){var r=n(63);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(64);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){var r=n(18).Uint8Array;e.exports=r},function(e,t,n){var r=n(1),o=Object.create,i=function(){function n(){}return function(e){if(!r(e))return{};if(o)return o(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();e.exports=i},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(69),o=n(25);e.exports=function(e){return o(e)&&r(e)}},function(e,t,n){var r=n(23),o=n(70);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t){e.exports=function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991}},function(e,t,n){var r=n(24),o=n(21),i=n(25),a=Function.prototype,u=Object.prototype,s=a.toString,l=u.hasOwnProperty,c=s.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=o(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&s.call(n)==c}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(2),o=n(9);e.exports=function(e){return r(e,o(e))}},function(e,t,n){var r=n(75),s=n(80);e.exports=function(u){return r(function(e,t){var n=-1,r=t.length,o=1<r?t[r-1]:void 0,i=2<r?t[2]:void 0;for(o=3<u.length&&"function"==typeof o?(r--,o):void 0,i&&s(t[0],t[1],i)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var a=t[n];a&&u(e,a,n,o)}return e})}},function(e,t,n){var r=n(76),o=n(77),i=n(79);e.exports=function(e,t){return i(o(e,t,r),e+"")}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var s=n(78),l=Math.max;e.exports=function(i,a,u){return a=l(void 0===a?i.length-1:a,0),function(){for(var e=arguments,t=-1,n=l(e.length-a,0),r=Array(n);++t<n;)r[t]=e[a+t];t=-1;for(var o=Array(a+1);++t<a;)o[t]=e[t];return o[a]=u(r),s(i,this,o)}}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r;void 0===(r=function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return Object.keys(t).map(function(e){return t[e]})}}.apply(t,[t]))||(e.exports=r)},function(e,t,n){var r,o;r=[t,n(83)],void 0===(o=function(e,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=function(){function t(e){r(this,t),this._storage="session"===e?sessionStorage:localStorage,this._name="LocalStorageStats"}return o(t,[{key:"_getItemAsInt",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=this._storage.getItem(e);return null==n?t:parseInt(n,10)}},{key:"_setItem",value:function(e,t){this._storage.setItem(e,t)}},{key:"insertCount",get:function(){return this._getItemAsInt("OILLogStats.IC")},set:function(e){this._setItem("OILLogStats.IC",e)}},{key:"dropCount",get:function(){return this._getItemAsInt("OILLogStats.DC")},set:function(e){this._setItem("OILLogStats.DC",e)}},{key:"sinceTime",get:function(){return this._getItemAsInt("OILLogStats.ST",0)},set:function(e){this._setItem("OILLogStats.ST",e)}}]),t}(),a=function(){function e(){r(this,e),this._insertCount=0,this._dropCount=0,this._timestamp=(new Date).getTime(),this._name="MemoryStats"}return o(e,[{key:"insertCount",get:function(){return this._insertCount},set:function(e){this._insertCount=e}},{key:"dropCount",get:function(){return this._dropCount},set:function(e){this._dropCount=e}},{key:"sinceTime",get:function(){return this._timestamp},set:function(e){this._timestamp=e}}]),e}(),t=function(){function t(e){r(this,t),this._inMemory=!(0,n.isLocalStorageSupported)()||!(0,n.isSessionStorageSupported)()||"in-memory"===e||"memory"===e||!e,this._inMemory?this._store=new a:this._store="session"===e?new i("session"):"local"===e?new i("local"):new a}return o(t,[{key:"reset",value:function(){this._store.insertCount=0,this._store.dropCount=0,this._store.sinceTime=(new Date).getTime()}},{key:"insertCount",get:function(){return this._store.insertCount},set:function(e){this._store.insertCount=e}},{key:"dropCount",get:function(){return this._store.dropCount},set:function(e){this._store.dropCount=e}},{key:"messageCount",get:function(){return this._store.dropCount+this._store.insertCount}},{key:"sinceTime",set:function(e){this._store.sinceTime=e},get:function(){return this._store.sinceTime}}]),t}();e.default=t}.apply(t,r))||(e.exports=o)},function(e,t,n){var r;void 0===(r=function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isLocalStorageSupported=function(){return t("localStorage")},e.isSessionStorageSupported=function(){return t("sessionStorage")};var n={};function t(e){if(!Object.prototype.hasOwnProperty.call(n,e))try{var t=window[e];t.setItem("_"+e+"Check","check"),t.removeItem("_"+e+"Check"),n[e]=!0}catch(t){n[e]=!1}return n[e]}}.apply(t,[t]))||(e.exports=r)},function(e,t,n){var r,o;r=[t,n(3)],void 0===(o=function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var n,o=(n=t)&&n.__esModule?n:{default:n},i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),r=function(e){function r(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=_typeof(t)&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t));return n._probability=1e3*e.probability,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+_typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,o.default),i(r,[{key:"probability",get:function(){return this._probability/1e3}}]),i(r,[{key:"filter",value:function(e){return Math.round(1e3*Math.random())<this._probability}}]),r}();e.default=r}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[t,n(3)],void 0===(o=function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var n,o=(n=t)&&n.__esModule?n:{default:n},i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),r=function(e){function r(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=_typeof(t)&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t));return n._counter=Math.floor(1e4*Math.random()),n._denominator=e.denominator,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+_typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,o.default),i(r,[{key:"filter",value:function(e){return this._counter++%this._denominator==0}}]),r}();e.default=r}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[t,n(3),n(11)],void 0===(o=function(e,t,o){Object.defineProperty(e,"__esModule",{value:!0});var n,i=(n=t)&&n.__esModule?n:{default:n},a=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),r=function(e){function r(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=_typeof(t)&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t));return n._regex=(0,o.getOption)("regex",e,{regex:null}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+_typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i.default),a(r,[{key:"filter",value:function(e){var t=!1;return e.annotation.message&&this._regex&&(t=this._regex.test(e.annotation.message)),t}}]),r}();e.default=r}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[t,n(3),n(11)],void 0===(o=function(e,t,o){Object.defineProperty(e,"__esModule",{value:!0});var n,i=(n=t)&&n.__esModule?n:{default:n},a=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),r=function(e){function r(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=_typeof(t)&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t));return n._levels=(0,o.getOption)("levels",e,{levels:["debug","info","warn","error","fatal"]}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+_typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,i.default),a(r,[{key:"filter",value:function(e){return 0<=this._levels.indexOf(e.level)}}]),r}();e.default=r}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[t,n(0)],void 0===(o=function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var n,s=(n=t)&&n.__esModule?n:{default:n};e.default=function e(t,n,r,o,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var u=a||(new Date).getTime();this.level=n,null!==t&&(this.message=t||""),i&&(i.component&&(this.component=i.component),i.env&&(this.env=i.env)),this.eventType=i&&i.eventType?i.eventType:"LOGGING",this.oilProps={timestamp:u,destination:o&&o.destination||[]},null!==r&&(this.exception=JSON.parse(JSON.stringify(r,Object.getOwnPropertyNames(r)))),null!==o&&(delete o.destination,(0,s.default)(this,o))}}.apply(t,r))||(e.exports=o)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),u=o(n(41)),s=o(n(14));function o(e){return e&&e.__esModule?e:{default:e}}var l=function(){function o(e){var t=e.itemQueueSize,n=e.itemQueueInterval,r=e.storeName;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this._storeName=r,this._storage=this._createDB(r),this._itemQueueInterval=n,this._itemQueueSize=t,this._networkRequestStorage=this._initNetworkRequestStorage(r)}return r(o,[{key:"_createDB",value:function(e){return new u.default(e)}},{key:"_initNetworkRequestStorage",value:function(e){var i=this._createDB(e+"NetworkRequestStorage");return i._items=Object.keys(i.getAllItems()).reduce(function(e,t){return a({},e,(n={},r=t,o=a({},i._items[t],{_dispatchInProgress:!1}),r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n));var n,r,o},{}),i}},{key:"insert",value:function(e){var t=this._storage.insertItem({item:e.getDataBlob(),timestamp:e.getTimestamp()});e.setId(t)}},{key:"getItems",value:function(){return this.getAllItems().slice(0,this._itemQueueSize)}},{key:"getAllItems",value:function(e){var n=this._storage.getAllItems(),r=[];return Object.keys(n).forEach(function(e){var t=new s.default(n[e].item,n[e].timestamp);t.setId(e),r.push(t)}),e?r.slice(0,e):r}},{key:"getOverallItemCount",value:function(){return Object.keys(this._storage._items).length}},{key:"deleteItemById",value:function(e){return this._storage.removeItem(e.getId())}},{key:"deleteItems",value:function(e){var t=this,n=0;return e.forEach(function(e){n+=t._storage.removeItem(e.getId())}),n}},{key:"deleteItemsOlderThan",value:function(t){var n=this,r=this._storage.getAllItems(),o=0;return Object.keys(r).forEach(function(e){r[e].timestamp<t.getTimestamp()&&(o+=n._storage.removeItem(e))}),o}},{key:"deleteOldestItem",value:function(){var e=this.getAllItems(),t=e[0];e.forEach(function(e){e.getTimestamp()<t.getTimestamp()&&(t=e)}),this.deleteItemById(t)}},{key:"insertNetworkRequest",value:function(e){var t=this._networkRequestStorage.insertItem(e);e.setId(t)}},{key:"deleteNetworkRequest",value:function(e){return this._networkRequestStorage.removeItem(e.getId())}},{key:"updateNetworkRequest",value:function(e){return this._networkRequestStorage.updateItem(e.getId(),e)}},{key:"getAllNetworkRequests",value:function(){var n=this,r=this._networkRequestStorage.getAllItems();return Object.keys(r).map(function(e){var t=r[e];return t._dispatchInProgress&&(!t._createdAt||t._createdAt<Date.now()-100*n._itemQueueInterval)&&(t._dispatchInProgress=!1),t._id=e,t})}},{key:"getNetworkRequest",value:function(e){var t=this.getAllNetworkRequests();return e?t.slice(0,e):t}},{key:"getNetworkRequestNotInProgress",value:function(e){for(var t=this.getAllNetworkRequests(),n=0,r=[],o=0;o<t.length&&(!1!==t[o]._dispatchInProgress||(r.push(t[o]),(n+=1)!==e));o+=1);return r}},{key:"purgeAll",value:function(){this._storage._reset(),this._networkRequestStorage._reset()}},{key:"getCurrentStorageSize",value:function(){var o=[],e=function e(t){var n=0;if("boolean"==typeof t)n=4;else if("string"==typeof t)n+=2*t.length;else if("number"==typeof t)n=8;else if("object"===(void 0===t?"undefined":i(t))&&-1===o.indexOf(t))for(var r in o[o.length]=t)n+=8,n+=e(t[r]);return n};return e(this._storage)+e(this._networkRequestStorage)}}]),o}();t.default=l},function(e,t,n){var r=n(91);e.exports=function(e){return r(e,5)}},function(e,t,n){var g=n(15),_=n(92),m=n(28),b=n(93),w=n(94),k=n(17),S=n(19),P=n(95),O=n(97),x=n(99),I=n(100),T=n(101),j=n(102),C=n(103),E=n(20),R=n(22),M=n(26),A=n(104),L=n(1),B=n(105),N=n(42),D="[object Arguments]",Q="[object Function]",q="[object Object]",U={};U[D]=U["[object Array]"]=U["[object ArrayBuffer]"]=U["[object DataView]"]=U["[object Boolean]"]=U["[object Date]"]=U["[object Float32Array]"]=U["[object Float64Array]"]=U["[object Int8Array]"]=U["[object Int16Array]"]=U["[object Int32Array]"]=U["[object Map]"]=U["[object Number]"]=U[q]=U["[object RegExp]"]=U["[object Set]"]=U["[object String]"]=U["[object Symbol]"]=U["[object Uint8Array]"]=U["[object Uint8ClampedArray]"]=U["[object Uint16Array]"]=U["[object Uint32Array]"]=!0,U["[object Error]"]=U[Q]=U["[object WeakMap]"]=!1,e.exports=function n(r,o,i,e,t,a){var u,s=1&o,l=2&o,c=4&o;if(i&&(u=t?i(r,e,t,a):i(r)),void 0!==u)return u;if(!L(r))return r;var f=R(r);if(f){if(u=j(r),!s)return S(r,u)}else{var h=T(r),p=h==Q||"[object GeneratorFunction]"==h;if(M(r))return k(r,s);if(h==q||h==D||p&&!t){if(u=l||p?{}:E(r),!s)return l?O(r,w(u,r)):P(r,b(u,r))}else{if(!U[h])return t?r:{};u=C(r,h,s)}}a||(a=new g);var d=a.get(r);if(d)return d;a.set(r,u),B(r)?r.forEach(function(e){u.add(n(e,o,i,e,r,a))}):A(r)&&r.forEach(function(e,t){u.set(t,n(e,o,i,t,r,a))});var y=c?l?I:x:l?keysIn:N,v=f?void 0:y(r);return _(v||r,function(e,t){v&&(e=r[t=e]),m(u,t,n(e,o,i,t,r,a))}),u}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(2),o=n(42);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t,n){var r=n(2),o=n(9);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t,n){var r=n(2),o=n(96);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(2),o=n(98);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(8)(Object.keys,Object);e.exports=r},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){var r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&r.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(){return!1}},function(i,e,t){(function(e){var t,n=e.crypto||e.msCrypto;if(n&&n.getRandomValues){var r=new Uint8Array(16);t=function(){return n.getRandomValues(r),r}}if(!t){var o=new Array(16);t=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}i.exports=t}).call(this,t(7))},function(e,t){for(var o=[],n=0;n<256;++n)o[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,r=o;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}},function(e,t,n){n(109),e.exports=self.fetch.bind(self)},function(e,t,n){n.r(t),n.d(t,"Headers",function(){return l}),n.d(t,"Request",function(){return v}),n.d(t,"Response",function(){return _}),n.d(t,"DOMException",function(){return b}),n.d(t,"fetch",function(){return w});var u={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(u.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(e){return e&&-1<r.indexOf(Object.prototype.toString.call(e))};function i(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function a(e){return"string"!=typeof e&&(e=String(e)),e}function s(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return u.iterable&&(e[Symbol.iterator]=function(){return e}),e}function l(t){this.map={},t instanceof l?t.forEach(function(e,t){this.append(t,e)},this):Array.isArray(t)?t.forEach(function(e){this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function c(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(n){return new Promise(function(e,t){n.onload=function(){e(n.result)},n.onerror=function(){t(n.error)}})}function h(e){var t=new FileReader,n=f(t);return t.readAsArrayBuffer(e),n}function p(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(e){var t;(this._bodyInit=e)?"string"==typeof e?this._bodyText=e:u.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:u.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():u.arrayBuffer&&u.blob&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=p(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||o(e))?this._bodyArrayBuffer=p(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var e=c(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var e,t,n,r=c(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=f(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(e,t){e=i(e),t=a(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},l.prototype.delete=function(e){delete this.map[i(e)]},l.prototype.get=function(e){return e=i(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(i(e))},l.prototype.set=function(e,t){this.map[i(e)]=a(t)},l.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},l.prototype.keys=function(){var n=[];return this.forEach(function(e,t){n.push(t)}),s(n)},l.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),s(t)},l.prototype.entries=function(){var n=[];return this.forEach(function(e,t){n.push([t,e])}),s(n)},u.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(e,t){var n,r,o=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new l(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),-1<y.indexOf(r)?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function g(e){var o=new FormData;return e.trim().split("&").forEach(function(e){if(e){var t=e.split("="),n=t.shift().replace(/\+/g," "),r=t.join("=").replace(/\+/g," ");o.append(decodeURIComponent(n),decodeURIComponent(r))}}),o}function _(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},d.call(v.prototype),d.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:0,statusText:""});return e.type="error",e};var m=[301,302,303,307,308];_.redirect=function(e,t){if(-1===m.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})};var b=self.DOMException;try{new b}catch(e){(b=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),b.prototype.constructor=b}function w(o,a){return new Promise(function(r,e){var t=new v(o,a);if(t.signal&&t.signal.aborted)return e(new b("Aborted","AbortError"));var i=new XMLHttpRequest;function n(){i.abort()}i.onload=function(){var e,o,t={status:i.status,statusText:i.statusText,headers:(e=i.getAllResponseHeaders()||"",o=new l,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var t=e.split(":"),n=t.shift().trim();if(n){var r=t.join(":").trim();o.append(n,r)}}),o)};t.url="responseURL"in i?i.responseURL:t.headers.get("X-Request-URL");var n="response"in i?i.response:i.responseText;r(new _(n,t))},i.onerror=function(){e(new TypeError("Network request failed"))},i.ontimeout=function(){e(new TypeError("Network request failed"))},i.onabort=function(){e(new b("Aborted","AbortError"))},i.open(t.method,t.url,!0),"include"===t.credentials?i.withCredentials=!0:"omit"===t.credentials&&(i.withCredentials=!1),"responseType"in i&&u.blob&&(i.responseType="blob"),t.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),t.signal&&(t.signal.addEventListener("abort",n),i.onreadystatechange=function(){4===i.readyState&&t.signal.removeEventListener("abort",n)}),i.send(void 0===t._bodyInit?null:t._bodyInit)})}w.polyfill=!0,self.fetch||(self.fetch=w,self.Headers=l,self.Request=v,self.Response=_)},function(e,t,n){e.exports=n(111).polyfill()},function(t,e,n){(function(D,Q){var e;e=function(){function s(e){return"function"==typeof e}var n=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},r=0,t=void 0,o=void 0,u=function(e,t){h[r]=e,h[r+1]=t,2===(r+=2)&&(o?o(p):_())},e="undefined"!=typeof window?window:void 0,i=e||{},a=i.MutationObserver||i.WebKitMutationObserver,l="undefined"==typeof self&&void 0!==D&&"[object process]"==={}.toString.call(D),c="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function f(){var e=setTimeout;return function(){return e(p,1)}}var h=new Array(1e3);function p(){for(var e=0;e<r;e+=2)(0,h[e])(h[e+1]),h[e]=void 0,h[e+1]=void 0;r=0}var d,y,v,g,_=void 0;function m(e,t){var n=this,r=new this.constructor(k);void 0===r[w]&&L(r);var o=n._state;if(o){var i=arguments[o-1];u(function(){return M(o,r,i,n._result)})}else E(n,r,e,t);return r}function b(e){if(e&&"object"==_typeof(e)&&e.constructor===this)return e;var t=new this(k);return I(t,e),t}_=l?function(){return D.nextTick(p)}:a?(y=0,v=new a(p),g=document.createTextNode(""),v.observe(g,{characterData:!0}),function(){g.data=y=++y%2}):c?((d=new MessageChannel).port1.onmessage=p,function(){return d.port2.postMessage(0)}):void 0===e?function(){try{var e=Function("return this")().require("vertx");return void 0!==(t=e.runOnLoop||e.runOnContext)?function(){t(p)}:f()}catch(e){return f()}}():f();var w=Math.random().toString(36).substring(2);function k(){}var S=void 0,P=1,O=2;function x(e,t,n){var a,r,o,i;t.constructor===e.constructor&&n===m&&t.constructor.resolve===b?(o=e,(i=t)._state===P?j(o,i._result):i._state===O?C(o,i._result):E(i,void 0,function(e){return I(o,e)},function(e){return C(o,e)})):void 0===n?j(e,t):s(n)?(a=t,r=n,u(function(o){var i=!1,e=function(e,t,n,r){try{e.call(t,function(e){i||(i=!0,a!==e?I(o,e):j(o,e))},function(e){i||(i=!0,C(o,e))})}catch(e){return e}}(r,a,0,0,o._label);!i&&e&&(i=!0,C(o,e))},e)):j(e,t)}function I(e,t){if(e===t)C(e,new TypeError("You cannot resolve a promise with itself"));else if(o=_typeof(r=t),null===r||"object"!==o&&"function"!==o)j(e,t);else{var n=void 0;try{n=t.then}catch(t){return void C(e,t)}x(e,t,n)}var r,o}function T(e){e._onerror&&e._onerror(e._result),R(e)}function j(e,t){e._state===S&&(e._result=t,e._state=P,0!==e._subscribers.length&&u(R,e))}function C(e,t){e._state===S&&(e._state=O,e._result=t,u(T,e))}function E(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+P]=n,o[i+O]=r,0===i&&e._state&&u(R,e)}function R(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,i=e._result,a=0;a<t.length;a+=3)r=t[a],o=t[a+n],r?M(n,r,o,i):o(i);e._subscribers.length=0}}function M(e,t,n,r){var o=s(n),i=void 0,a=void 0,u=!0;if(o){try{i=n(r)}catch(e){u=!1,a=e}if(t===i)return void C(t,new TypeError("A promises callback cannot return that same promise."))}else i=r;t._state!==S||(o&&u?I(t,i):!1===u?C(t,a):e===P?j(t,i):e===O&&C(t,i))}var A=0;function L(e){e[w]=A++,e._state=void 0,e._result=void 0,e._subscribers=[]}var B=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(k),this.promise[w]||L(this.promise),n(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?j(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&j(this.promise,this._result))):C(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===S&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===b){var o=void 0,i=void 0,a=!1;try{o=t.then}catch(t){a=!0,i=t}if(o===m&&t._state!==S)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===N){var u=new n(k);a?C(u,i):x(u,t,o),this._willSettleAt(u,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===S&&(this._remaining--,e===O?C(r,n):this._result[t]=n),0===this._remaining&&j(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;E(e,void 0,function(e){return n._settledAt(P,t,e)},function(e){return n._settledAt(O,t,e)})},e}(),N=function(){function t(e){this[w]=A++,this._result=this._state=void 0,this._subscribers=[],k!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(t,e){try{e(function(e){I(t,e)},function(e){C(t,e)})}catch(e){C(t,e)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this.constructor;return s(t)?this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw e})}):this.then(t,t)},t}();return N.prototype.then=m,N.all=function(e){return new B(this,e).promise},N.race=function(o){var i=this;return n(o)?new i(function(e,t){for(var n=o.length,r=0;r<n;r++)i.resolve(o[r]).then(e,t)}):new i(function(e,t){return t(new TypeError("You must pass an array to race."))})},N.resolve=b,N.reject=function(e){var t=new this(k);return C(t,e),t},N._setScheduler=function(e){o=e},N._setAsap=function(e){u=e},N._asap=u,N.polyfill=function(){var e=void 0;if(void 0!==Q)e=Q;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=N},N.Promise=N},t.exports=e()}).call(this,n(112),n(7))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var s,l=[],c=!1,f=-1;function h(){c&&s&&(c=!1,s.length?l=s.concat(l):f=-1,l.length&&p())}function p(){if(!c){var e=u(h);c=!0;for(var t=l.length;t;){for(s=l,l=[];++f<t;)s&&s[f].run();f=-1,t=l.length}s=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new d(e,t)),1!==l.length||c||u(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._itemQueueCallback=null}return r(e,[{key:"setCallback",value:function(e){this._itemQueueCallback=e}},{key:"dispatchSuccess",value:function(e,t,n){}},{key:"dispatchFailed",value:function(e,t,n){}},{key:"dispatchInitiated",value:function(e,t){}}]),e}();t.default=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},o=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i=1048576,a=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._itemStoreIdentifier=e&&e.itemStoreIdentifier?e.itemStoreIdentifier:"RTDefault",this._maxRetries=e&&e.maxRetries?e.maxRetries:3,this._maxItemQueueSize=e&&e.maxItemQueueSize?e.maxItemQueueSize:2e3,this._interval=e&&e.interval?e.interval:3e4,this._maxBytesQuota=e&&e.maxBytesQuota?e.maxBytesQuota:i,this._retryStrategy=e&&e.retryStrategy?e.retryStrategy:"DefaultRetryStrategy",this._purgeStrategy=e&&e.purgeStrategy?e.purgeStrategy:"Purge",this._requestTimeout=e&&e.requestTimeout?e.requestTimeout:3e3,this._url=e&&e.url?e.url:"localhost",this._method=e&&e.method?e.method:"post",this._headers=e&&e.headers?e.headers:{},this._queryParams=e&&e.queryParams?e.queryParams:{},this.OVERRIDE_LIMIT_ENFORCED=!1,this.minimumMaxItemQueueSize=64,this.minimumMaxBytesQuota=102400,this.minimumMaxRetryCount=2,this.minimumRequestTimeout=1e3,this.minimumInterval=1e4}return o(t,[{key:"setItemStoreIdentifier",value:function(e){if("string"!=typeof e||null===e)throw"Please use a valid string for queue name";this._itemStoreIdentifier=e}},{key:"getItemStoreIdentifier",value:function(){return this._itemStoreIdentifier}},{key:"setMaxItemQueueSize",value:function(e){if(e<1||null===e)throw"Maximum item queue size should be at the minimum 1.";!0===this.OVERRIDE_LIMIT_ENFORCED?this._maxItemQueueSize=e:e<this.minimumMaxItemQueueSize?(console.error("This value is less than the recommended size of "+this.minimumMaxItemQueueSize+" events. Setting to default value 2000."),this._maxItemQueueSize=2e3):this._maxItemQueueSize=e}},{key:"getMaxItemQueueSize",value:function(){return this._maxItemQueueSize}},{key:"setRequestTimeout",value:function(e){if(e<1||null===e)throw"Maximum retry timeout should be at the minimum 1ms.";!0===this.OVERRIDE_LIMIT_ENFORCED?this._requestTimeout=e:e<this.minimumRequestTimeout?(console.error("This value is less than the recommended time of "+this.minimumRequestTimeout+". Setting to default value 3000."),this._requestTimeout=3e3):this._requestTimeout=e}},{key:"getRequestTimeout",value:function(){return this._requestTimeout}},{key:"setInterval",value:function(e){if(e<1||null===e)throw"Time interval should be at the minimum 1ms.";!0===this.OVERRIDE_LIMIT_ENFORCED?this._interval=e:e<this.minimumInterval?(console.error("This value is less than the recommended time of "+this.minimumInterval+". Setting to default value 30000."),this._interval=3e4):this._interval=e}},{key:"getInterval",value:function(){return this._interval}},{key:"setMaxRetries",value:function(e){if(e<0||null===e)throw"Maximum retries should be at the minimum 0.";!0===this.OVERRIDE_LIMIT_ENFORCED?this._maxRetries=e:e<this.minimumMaxRetryCount?(console.error("This value is less than the recommended retries of "+this.minimumMaxRetryCount+". Setting to default value 3."),this._maxRetries=3):this._maxRetries=e}},{key:"getMaxRetries",value:function(){return this._maxRetries}},{key:"setMaxBytesQuota",value:function(e){if(e<0||null===e)throw"Maximum bytes quota should be at the minimum 0.";!0===this.OVERRIDE_LIMIT_ENFORCED?this._maxBytesQuota=e:e<this.minimumMaxBytesQuota?(console.error("This value is less than the recommended bytes quota of "+this.minimumMaxBytesQuota+". Setting to default value "+i+"."),this._maxBytesQuota=i):this._maxBytesQuota=e}},{key:"getMaxBytesQuota",value:function(){return this._maxBytesQuota}},{key:"setPurgeStrategy",value:function(e){this._purgeStrategy=e}},{key:"getPurgeStrategy",value:function(){return this._purgeStrategy}},{key:"setRetryStrategy",value:function(e){this._retryStrategy=e}},{key:"getRetryStrategy",value:function(){return this._retryStrategy}},{key:"setUrl",value:function(e){if(null===e||"string"!=typeof e||""===e)throw"Please use a valid URL";this._url=e}},{key:"getUrl",value:function(){return this._url}},{key:"setMethod",value:function(e){if(null===e||"string"!=typeof e||""===e)throw"Please use a valid HTTP method";this._method=e}},{key:"getMethod",value:function(){return this._method}},{key:"setHeaders",value:function(e){if(null===e||"object"!==(void 0===e?"undefined":r(e))||!0===Array.isArray(e))throw"Please use valid headers";this._headers=e}},{key:"getHeaders",value:function(){return this._headers}},{key:"setQueryParams",value:function(e){if(null===e||"object"!==(void 0===e?"undefined":r(e))||!0===Array.isArray(e))throw"Please use valid query params";this._queryParams=e}},{key:"getQueryParams",value:function(){return this._queryParams}}]),t}();t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"onPrepareNetworkRequest",value:function(e,t){}},{key:"onSuccess",value:function(e,t){}},{key:"onError",value:function(e,t,n){}}]),e}();t.default=o},function(e,t,n){var r,o;r=[t,n(34),n(43)],void 0===(o=function(e,t,n){Object.defineProperty(e,"__esModule",{value:!0});var r,o=(r=n)&&r.__esModule?r:{default:r},i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},u=function(e){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=_typeof(t)&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return t._addLegacyXtidHeader=e,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+_typeof(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,t.BaseHTTPTransformer),i(r,[{key:"transform",value:function(e,t,n){return e||(e={}),this.addHeaders(e),a(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"transform",this).call(this,e,t,n)}},{key:"formatPostBody",value:function(e){var t=this,n=[];return e.forEach(function(e){t._addLegacyXtidHeader&&(e.object.serializer="json"),n.push(e.object)}),a(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"formatPostBody",this).call(this,n)}},{key:"addHeaders",value:function(e){var t=(0,o.default)();e.intuit_tid=t,this._addLegacyXtidHeader?e["-X-INTUIT_TID"]=t:(delete e["-X-APPID"],delete e["-X-INTUIT_TID"])}}]),r}();e.default=u}.apply(t,r))||(e.exports=o)},function(e,t,n){var r;void 0===(r=function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){return!0}}.apply(t,[t]))||(e.exports=r)},function(e,t,n){var r;void 0===(r=function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.hashCode=function(e){var t=0,n=e.length,r=0;if(0<n)for(;r<n;)t=(t<<5)-t+e.charCodeAt(r++)|0;return t}}.apply(t,[t]))||(e.exports=r)}])}(e={exports:{}},e.exports),e.exports),a=(t=i)&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,u=function(e){var t=!1,n=e&&"string"==typeof e?e:JSON.stringify(e);try{JSON.parse(n),t=!0}catch(e){}return t},s=function(e){_inherits(o,a.LoggingUtility);var n=_createSuper(o);function o(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,o),(e=n.call(this)).config=Object.assign({},t),e.oilConfig={},e.setOilConfig(),e.setConfiguration(e.oilConfig),e.invalidJsonSentToLoggerHandler=function(e,t){console.log("logger message and/or props were invalid"),console.log(" -> message is a string: ".concat("string"==typeof e)),console.log(" -> props is a valid JSON: ".concat(u(t)))},e.initSuperLoggers(),e}return _createClass(o,[{key:"handleExtendedProps",value:function(e,t){return this.extendProps&&this.extendProps instanceof Function?this.extendProps(e,t):t}},{key:"initSuperLoggers",value:function(){var r=this;this._activeLevels.map(function(n){r[n]=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof e&&u(t)?_get(_getPrototypeOf(o.prototype),n,r).call(r,e,r.handleExtendedProps(n,t)):r.invalidJsonSentToLoggerHandler(e,t)}})}},{key:"setOilConfig",value:function(){this.oilConfig={logging:{schemaVersion:"1.3.0",component:"defaultApp",appId:this.config.appId,levels:{atLevelAndHigher:"debug"},providers:{console:{type:"local"},remote:{type:"remote",env:this.config.remoteEnvironment,reliableTransmission:{maxItems:this.config.reliableTransmissionMaxItems,interval:this.config.reliableTransmissionInterval},endpoint:{host:this.config.endpointHost,port:443,protocol:this.config.endpointProtocol,basepath:this.config.endpointBasepath,bodyFormat:"json",headers:{Authorization:"Intuit_APIKey intuit_apikey=".concat(this.config.endpointHeadersApiKey,", intuit_apkey_version=").concat(this.config.endpointHeadersApKeyVersion)}}}}}}}}]),o}(),f=_createClass(function e(t){_classCallCheck(this,e),this.configuration=Object.assign({logging:{}},t),this.analytics=new n(this.configuration.analytics),this.messaging=r,this.data=new o,this.logger=new s(this.configuration.logging)}),h=function(e){var t=e||"";return[{regex:/=(em_[^_]*_[^_]*_[^_]*)_([^&]*)/g,replacementPattern:"=$1_SANITIZED"},{regex:/=[^@&]*[@][^&]*/g,replacementPattern:"=SANITIZED"}].forEach(function(e){t=t.replace(e.regex,e.replacementPattern)}),t};!function(o){var e,i=null,a=o.csLogging&&o.csLogging.enabled,u=o.csLogging&&o.csLogging.csaEnabled,s=o.csLogging&&o.csLogging.cookiesToInclude,l=o.csLogging&&o.csLogging.urlParamsToExclude,c=function(){var e,t=(e=window.location)&&e.href?e.href.split("?")[0]:"",n=window.location&&window.location.search;if(0===n.length)return t;try{var r=function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return t===decodeURIComponent(t)?t:e(decodeURIComponent(t))}(n),o=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=new URLSearchParams(e);return t.trim().split(",").forEach(function(e){n.delete(e)}),n.toString()}(h(r),l);return"".concat(t,"?").concat(o)}catch(e){return"".concat(t).concat(n)}},n=function(e){var t,n={errorUrl:"",logKey:e.logKey||"clientSideJsError",logValue:e.logValue||"undefined error",url:"/api/v1/cse/jsError",prettyMessage:e.prettyMessage||"",errorMessage:e.errorMessage||"",lineNumber:-1,userAgent:navigator&&navigator.userAgent?navigator.userAgent:"",pageUrl:c(),cookieIds:s},r={};return window.fetch&&a&&!u&&(r=fetch(n.url,{method:"POST",headers:{"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},credentials:"same-origin",body:(t=n,Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&"))})),r};try{(e=new f({logging:o.oil})).logger.extendProps=function(e,t){var n=t,r=(n.cookieIds?"".concat(n.cookieIds,",").concat(s):s).split(",");return i=i||document.querySelector("[data-com-type='page']"),r.forEach(function(e){n[e]=function(e){if(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));return t?t[2]:null}}(e)}),delete n.cookieIds,n.appID="EMS",n.browserPlugins=function(e){if(!e)return"";for(var t=[],n=e.length,r=0;r<n;r+=1){var o=e[r];t.push(o.name)}return t.join("|")}(navigator.plugins),n.experience=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n="";return t.contentIdentifier&&(n=t.contentIdentifier),e&&e.dataset&&e.dataset.autoSel&&(n&&(n+="|"),n+=e.dataset.autoSel),n}(i,o.pageview),n.experienceId=o.pageview?o.pageview.experienceId:"",n.experimentIdsExperienced=o.clientProfile.experiment_ids_experienced,n.experienceAnalyticsName=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e&&e.dataset&&e.dataset.experienceAnalyticsName||""}(i),n.pageUrl=c(),n.referrer=h(document.referrer),n.verEMS=o.version,"/v2/log/message"===o.oil.endpointBasepath&&(n.timestamp=o.serverTime,n.destination=[o.oil.appId]),n},e.logger.invalidJsonSentToLoggerHandler=function(e,t){n({logValue:JSON.stringify(t),errorMessage:JSON.stringify(e),prettyMessage:"OilError",logKey:"clientSideFailedOilLog"})},e.data.registerDataHandler("config",function(){return new Promise(function(e){e(window.appVars)})}),e.data.registerDataHandler("widgetsConfig",function(){return new Promise(function(e){e(window.appVars.widgetsConfig)})}),e.data.registerDataHandler("context",function(){var e,t={location:{host:(e=window.location).host,hostname:e.hostname,href:e.href,origin:e.origin,pathname:e.pathname,port:e.port,protocol:e.protocol,search:e.search}};return new Promise(function(e){e(t)})}),window.coreServiceAdapter=e}catch(e){n({logValue:e,logKey:"CsaInitFailure"})}}(window.appVars)}();